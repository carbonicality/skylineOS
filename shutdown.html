<!DOCTYPE html>
<html lang="en">
<!-- that boot up verbose stuff that grub and arch does -->
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>SkylineOS</title>
        <style>
            @font-face {
                font-family: 'unifont';
                src: url('./fonts/unifont.ttf');
                font-weight: normal;
                font-style: normal;
            }

            body {
                font-family: 'unifont';
                color: white;
                font-size: 16px;
                background-color: black;
            }

            .status-ln {
                display: none;
                margin: 0;
                line-height: 1.2;
            }

            .ok {
                color: rgb(12, 206, 12);
            }

            .welcome {
                color: rgb(0, 255, 251);
            }

            .warn {
                color: rgb(255, 145, 0);
            }
        </style>
    </head>
    <body>
        <p class="status-ln phase1">System shutdown/reboot initiated by user.</p>
        <p class="status-ln phase1">System intialising shutdown/reboot...</p>
        <p class="status-ln phase1">Please wait...</p>

        <p class="status-ln phase2"><span class="welcome">SkylineOS is shutting down...</span></p>
        <p class="status-ln phase2"><span class="welcome">These verbose messages are not real, and do not respresent actual system loading!</span></p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Stopping user session services</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Saving user session state</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Unmounting user home directory</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Stopping graphical shell</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Terminating window manager</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Stopping display server</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Unloading graphical drivers</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Flushing disk cache</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Unmounting filesystems</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Stopping system logging daemon</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Stopping background services</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Powering down network interfaces</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Stopping time synchronization</p>
        <p class="status-ln phase2">[&nbsp;<span class="warn">WARN</span>&nbsp;] Bluetooth daemon failed to terminate cleanly</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Disabling swap space</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Killing remaining processes</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] All processes terminated</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] System resources released</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] Mounted SRUB (/dev/srub)</p>
        <p class="status-ln phase2">[&nbsp;<span class="ok">OK</span>&nbsp;] System shutdown/reboot complete.</p>
    </body>
    <script>
        const delay = (ms) => new Promise(res => setTimeout(res, ms));

        async function bootSequence() {
            const phase1 = document.querySelectorAll('.phase1');
            const phase2 = document.querySelectorAll('.phase2');

            for (let p of phase1) {
                p.style.display = 'block';
                if (document.body.scrollHeight > window.innerHeight) {
                    window.scrollTo(0, document.body.scrollHeight);
                } // this is redundant but im just keeping it for safety i suppose
                await delay(500);
            }

            await delay(800);

            document.body.innerHTML = '';

            for (let p of phase2) document.body.appendChild(p);

            for (let p of phase2) {
                p.style.display = 'block';
                if (document.body.scrollHeight > window.innerHeight) {
                    window.scrollTo(0, document.body.scrollHeight);
                }
                await delay(50);
            }

            await delay(500);
            window.location = 'bootloader.html';
        }

        bootSequence();
    </script>
</html>